# Kittygram - –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–µ–∫—Ç, —á—Ç–æ–±—ã –¥–µ–ª–∏—Ç—å—Å—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ –∫–æ—Ç–∏–∫–æ–≤
***
***


## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:

[![Python](https://img.shields.io/badge/Python-%203.10-blue?style=flat-square&logo=Python)](https://www.python.org/)
[![Django](https://img.shields.io/badge/Django-%203.2.3-blue?style=flat-square&logo=django)](https://www.djangoproject.com/)
[![DRF](https://img.shields.io/badge/DjangoRESTFramework-%20-blue?style=flat-square&logo=django)](https://www.django-rest-framework.org/)
[![Docker](https://img.shields.io/badge/Docker-%2024.0.5-blue?style=flat-square&logo=docker)](https://www.docker.com/)
[![DockerCompose](https://img.shields.io/badge/Docker_Compose-%202.21.0-blue?style=flat-square&logo=docsdotrs)](https://docs.docker.com/compose/)
[![GitHub Actions](https://img.shields.io/badge/GitHub_Actions-%20-blue?style=flat-square&logo=githubactions)](https://github.com/features/actions)
[![Gunicorn](https://img.shields.io/badge/Gunicorn-%2020.1.0-blue?style=flat-square&logo=gunicorn)](https://gunicorn.org/)
[![Nginx](https://img.shields.io/badge/Nginx-%20-blue?style=flat-square&logo=nginx)](https://www.nginx.com/)
[![React](https://img.shields.io/badge/React-%20-blue?style=flat-square&logo=react)](https://react.dev/)
[![React](https://img.shields.io/badge/certbot-%20-blue?style=flat-square&logo=letsencrypt)](https://certbot.eff.org/)

***

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:

- –ü—Ä–æ–µ–∫—Ç Kittygram –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏
–∫–æ—Ç–∏–∫–æ–≤ –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∫–æ—Ç–∏–∫–æ–≤ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–æ—Ç–æ –∫–æ—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤–≤–µ—Å—Ç–∏ –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–º—è
–∫–æ—Ç–∏–∫–∞, –≥–æ–¥ –µ–≥–æ —Ä–æ–∂–¥–µ–Ω–∏—è –∏, –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏, –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –µ–º—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è.
- –î–æ–±–∞–≤–ª—è—Ç—å –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏
–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.
- –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä—ã –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å–≤–æ–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ.

***

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –¥–≤–∞ —Ñ–∞–π–ª–∞ **docker-compose.yml** –∏ 
**docker-compose.production.yml**, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–µ–∫—Ç –∫–∞–∫ –Ω–∞
–ª–æ–∫–∞–ª—å–Ω–æ–º –∏–ª–∏ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–∞—Ö.

–î–∞–Ω–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç, —á—Ç–æ –Ω–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Git, Python 3.9, –ø–∞–∫–µ—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã npm –∏ pip, Docker, Docker Compose, —É—Ç–∏–ª–∏—Ç–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è python3-venv.

–î–ª—è —Ä—É—á–Ω–æ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤ —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –∑–∞–ø—É—â–µ–Ω–∞ –°–£–ë–î PostgreSQL.

–° –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –∑–∞–ø—É—Å–∫–∞ –≤—ã –º–æ–∂–µ—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –Ω–∏–∂–µ.

***

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ –≤ —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ

–ü–æ–ª–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É –≤ —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ —Å–µ—Ä–≤–µ—Ä–æ–≤ **frontend** –∏
**backend** –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–∞–ø–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ 
—Ñ–∞–π–ª–∞—Ö README.md

*kittygram_final/frontend/README.md* \
*kittygram_final/backend/README.md*

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö —Å –ø–æ–º–æ—â—å—é Docker Compose

–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```shell
git clone https://github.com/PrimeStr/kittygram_final.git
```


–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:

```shell
cd kittygram_final/
```

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª **.env** –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, –∑–∞—Ç–µ–º –¥–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫–∏,
—Å–æ–¥–µ—Ä–∂–∞—â–∏–µ—Å—è –≤ —Ñ–∞–π–ª–µ **.env.example** –∏ –ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è.

–ü—Ä–∏–º–µ—Ä –∏–∑ .env —Ñ–∞–π–ª–∞:

```dotenv
# –ï—Å–ª–∏ –≤—ã –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –°–£–ë–î PostgreSQL - –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã.
POSTGRES_USER=your_username        # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Postgres
POSTGRES_PASSWORD=your_password    # –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Postgres
POSTGRES_DB=db_name                # –ù–∞–∑–≤–∞–Ω–∏–µ –ë–î
DB_HOST=db                         # –•–æ—Å—Ç, –ø–æ –¥–µ—Ñ–æ–ª—Ç—É db
DB_PORT=port_for_db                # –ü–æ—Ä—Ç, –ø–æ –¥–µ—Ñ–æ–ª—Ç—É 5432

# –°–ª–µ–¥—É—é—â–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—ã–±–æ—Ä–∞ –°–£–ë–î.
SECRET_KEY=DJANGO_SECRET_KEY       # –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –î–∂–∞–Ω–≥–æ
DEBUG=False                        # –í—ã—Å—Ç–∞–≤—å—Ç–µ True, –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –¥–µ–±–∞–≥. –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω.
ALLOWED_HOSTS=127.0.0.1            # 127.0.0.1 localhost –ø–æ –¥–µ—Ñ–æ–ª—Ç—É –µ—Å–ª–∏ DEBUG=False. –†–∞–∑–¥–µ–ª–∏—Ç–µ –∞–¥—Ä–µ—Å–∞ –ø—Ä–æ–±–µ–ª–∞–º–∏.
```

–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ñ–∞–π–ª docker-compose.yml, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã –º–æ–∂–µ—Ç–µ
–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

–ù–∞—Ö–æ–¥—è—Å—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:
> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ.** –ï—Å–ª–∏ –Ω—É–∂–Ω–æ - –¥–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω–µ—Ü –∫–æ–º–∞–Ω–¥—ã —Ñ–ª–∞–≥ **-d** –¥–ª—è –∑–∞–ø—É—Å–∫–∞
> –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.
```shell
sudo docker compose -f docker-compose.yml up
```

–û–Ω–∞ —Å–±–∏–ª–¥–∏—Ç Docker –æ–±—Ä–∞–∑—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç backend, frontend, –°–£–ë–î –∏ Nginx –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö
Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å backend:

```shell
sudo docker compose -f docker-compose.yml exec backend python manage.py migrate
```

–°–æ–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç–∏–∫—É backend'a:

```shell
sudo docker compose -f docker-compose.yml exec backend python manage.py collectstatic
```

–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —Å–æ–±—Ä–∞–Ω–Ω—É—é —Å—Ç–∞—Ç–∏–∫—É –≤ volume, —Å–æ–∑–¥–∞–Ω–Ω—ã–π Docker Compose –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏–∫–∏:

```shell
sudo docker compose -f docker-compose.yml exec backend cp -r /app/collected_static/. /static/static/
```

–ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É
http://127.0.0.1/

–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```shell
sudo docker compose -f docker-compose.yml down
```

–õ–∏–±–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–≤–µ—Ä—à–∏—Ç–µ —Ä–∞–±–æ—Ç—É Docker Compose –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—ã –µ–≥–æ
–∑–∞–ø—É—Å–∫–∞–ª–∏, —Å–æ—á–µ—Ç–∞–Ω–∏–µ–º –∫–ª–∞–≤–∏—à **CTRL+C**.

***

# CI/CD - –†–∞–∑–≤—ë—Ä—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ

–í –ø—Ä–æ–µ–∫—Ç–µ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Workflow –¥–ª—è GitHub Actions.

–í–∞—à GitHub Actions —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç:

- üß™ –¢–µ—Å—Ç—ã: –ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Ç–µ—Å—Ç—ã –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.
- üèóÔ∏è –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤: Git Action —Å–æ–∑–¥–∞–µ—Ç Docker-–æ–±—Ä–∞–∑—ã –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- üöÄ –î–µ–ø–ª–æ–π: –û–±—Ä–∞–∑—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π DockerHub, –ø—Ä–æ–µ–∫—Ç
–¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
- ‚úâÔ∏è –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: –í —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram.

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ GitHub –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è ‚Äî **Settings**, –Ω–∞–π–¥–∏—Ç–µ –Ω–∞ –ø–∞–Ω–µ–ª–∏ —Å–ª–µ–≤–∞ –ø—É–Ω–∫—Ç
**Secrets and Variables**, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions**, –Ω–∞–∂–º–∏—Ç–µ
**New repository secret**.

–°–æ–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–∏:

```
DOCKER_USERNAME (–í–∞—à –ª–æ–≥–∏–Ω –≤ DockerHub)
DOCKER_PASSWORD (–í–∞—à –ø–∞—Ä–æ–ª—å –≤ DockerHub)
HOST (IP –∞–¥—Ä–µ—Å—Å –≤–∞—à–µ–≥–æ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞)
USER (–õ–æ–≥–∏–Ω –≤–∞—à–µ–≥–æ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞)
SSH_KEY (SSH –∫–ª—é—á –≤–∞—à–µ–≥–æ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞)
SSH_PASSPHRASE (–ü–∞—Ä–æ–ª—å –≤–∞—à–µ–≥–æ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞)
TELEGRAM_TO (–í–∞—à ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram)
TELEGRAM_TOKEN (–¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram)
```

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –≤–∞—à–µ–º—É —É–¥–∞–ª—ë–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É –ª—é–±—ã–º —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º. –°–æ–∑–¥–∞–π—Ç–µ –≤
–¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º **kittygram**.

```shell
mkdir kittygram
```

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–æ–∑–¥–∞–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤ –Ω–µ–π —Ñ–∞–π–ª **.env**, –∑–∞—Ç–µ–º –¥–æ–±–∞–≤—å—Ç–µ
—Å—Ç—Ä–æ–∫–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ—Å—è –≤ —Ñ–∞–π–ª–µ **.env.example** –∏ –ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è.

```shell
nano .env
```

–ü—Ä–∏–º–µ—Ä –∏–∑ .env —Ñ–∞–π–ª–∞:

```dotenv
# –ü–æ —ç—Ç–∏–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞.
POSTGRES_USER=your_username        # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Postgres
POSTGRES_PASSWORD=your_password    # –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Postgres
POSTGRES_DB=db_name                # –ù–∞–∑–≤–∞–Ω–∏–µ –ë–î
DB_HOST=db                         # –•–æ—Å—Ç, –ø–æ –¥–µ—Ñ–æ–ª—Ç—É db
DB_PORT=port_for_db                # –ü–æ—Ä—Ç, –ø–æ –¥–µ—Ñ–æ–ª—Ç—É 5432

SECRET_KEY=DJANGO_SECRET_KEY       # –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –î–∂–∞–Ω–≥–æ
DEBUG=False                        # –í—ã—Å—Ç–∞–≤—å—Ç–µ True, –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –¥–µ–±–∞–≥. –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω.
ALLOWED_HOSTS=127.0.0.1            # 127.0.0.1 localhost –ø–æ –¥–µ—Ñ–æ–ª—Ç—É –µ—Å–ª–∏ DEBUG=False. –†–∞–∑–¥–µ–ª–∏—Ç–µ –∞–¥—Ä–µ—Å–∞ –ø—Ä–æ–±–µ–ª–∞–º–∏.
```

–ü—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ –≤–∞—à–µ–º—É —É–¥–∞–ª—ë–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É –≤–æ—Ä–∫–µ—Ä GitHub Actions —Å–æ–∑–¥–∞—Å—Ç –ë–î –∏
–∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å backend'–æ–º, –∏—Å–ø–æ–ª—å–∑—É—è —ç—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã.

### **–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ –¥–µ–ø–ª–æ—é**

–í –ª–æ–∫–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–∞–º–µ–Ω–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ **docker-compose.production.yml** –Ω–∞–∑–≤–∞–Ω–∏—è
–æ–±—Ä–∞–∑–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –≤–∞—à–∏–º –ª–æ–≥–∏–Ω–æ–º –Ω–∞ DockerHub –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ
(–ù–∞–ø—Ä–∏–º–µ—Ä **your_name/kittygram_backend**)

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤ –∏ –≤ —Ñ–∞–π–ª–µ **main.yml**, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è
–≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ **/.github/workflows/**.

–í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω! –ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç–µ –∫–æ–º–º–∏—Ç –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ
–∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ GitHub, GitHub Action –±–µ—Ä–µ—Ç –¥–µ–ª–æ –≤ —Å–≤–æ–∏ —Ä—É–∫–∏:

```shell
git add .
```

```shell
git commit -m "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–æ–º–º–∏—Ç–∞."
```

```shell
git push
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–≤–æ—ë–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞ GitHub –≤–æ
–≤–∫–ª–∞–¥–∫—É **Actions**. –í—ã —É–≤–∏–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã Actions. –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã
–≤–æ—Ä–∫–µ—Ä–∞ –≤ –≤–∞—à Telegram –ø—Ä–∏–¥—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞:

> –î–µ–ø–ª–æ–π Kittygram —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω!

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é **kittygram** –∏
—Å–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: 

```shell
sudo docker compose -f docker-compose.production.yml exec backend python manage.py createsuperuser
```

>**–í–Ω–∏–º–∞–Ω–∏–µ! :** –î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –≤–∞—à–µ–º —É–¥–∞–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å
—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω **Nginx**. –£–¥–æ—Å—Ç–æ–≤–µ—Ä—å—Ç–µ—Å—å —á—Ç–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ –ø–æ
–≤–∞—à–µ–º—É –¥–æ–º–µ–Ω–Ω–æ–º—É –∏–º–µ–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞
**127.0.0.1:9000**.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Let's Encrypt

–ß—Ç–æ–±—ã –ø—Ä–æ–µ–∫—Ç –æ—Ç–≤–µ—á–∞–ª –±–∞–∑–æ–≤—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç.

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **certbot**:

```shell
sudo apt install snapd
```

```shell
sudo snap install core; sudo snap refresh core
```

```shell
sudo snap install --classic certbot
```

```shell
sudo ln -s /snap/bin/certbot /usr/bin/certbot
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ sertbot –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–≤–æ–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:

```shell
sudo certbot --nginx
```

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Nginx:

```shell
sudo systemctl reload nginx
```  

```shell
sudo certbot certificates
```  

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ.** SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –æ—Ç Let's Encrypt –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –≤ —Ç–µ—á–µ–Ω–∏–µ 90 –¥–Ω–µ–π. –ò—Ö –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å.
–ï—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –¥–µ–ª–∞—Ç—å —ç—Ç–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã –Ω–∏–∂–µ.

```shell
sudo certbot renew --dry-run
```  

**–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç—É –ø–æ –µ–≥–æ –¥–æ–º–µ–Ω–Ω–æ–º—É –∏–º–µ–Ω–∏.**
**–ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–∞–¥–æ, –º–æ–∂–µ—Ç–µ –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.**

***

## –ê–≤—Ç–æ—Ä

**–ú–∞–∫—Å–∏–º –ì–æ–ª–æ–≤–∏–Ω**\
–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–≥–ª—è–Ω—É—Ç—å –≤ –¥—Ä—É–≥–∏–µ –º–æ–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤ –º–æ–µ–º –ø—Ä–æ—Ñ–∏–ª–µ GitHub. –ù–∞–∂–º–∏—Ç–µ [–∑–¥–µ—Å—å](https://github.com/PrimeStr).
